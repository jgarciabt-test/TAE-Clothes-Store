package com.tae.store.helpers;

import org.json.JSONArray;
import org.json.JSONObject;

import android.app.ProgressDialog;
import android.content.Context;

import com.android.volley.Response;
import com.android.volley.Response.Listener;
import com.android.volley.VolleyError;
import com.android.volley.toolbox.JsonArrayRequest;
import com.tae.store.R;


//Implements Singleton
public class NetworkRequest {

	private static NetworkRequest instance = null;
	private ProgressDialog pDialog;
	private Context context;

	protected NetworkRequest(Context context) {
		this.context = context;
		pDialog = new ProgressDialog(context);
		pDialog.setMessage(context.getResources().getString(R.string.loading));
	}

	public static NetworkRequest getInstance(Context context) {
		if (instance == null) {
			instance = new NetworkRequest(context);
		}
		return instance;
	}

	public JSONArray makeRequest(String url, String method,
			JSONObject parameters) {

		pDialog.show();
		JSONArray response = new JSONArray();
		
		JsonArrayRequest request = new JsonArrayRequest(url, new Listener<JSONArray>() {
			public void onResponse(JSONArray response){
				
			}
		}, new Response.ErrorListener() {
			@Override
			public void onErrorResponse(VolleyError error) {
				//VolleyLog.d(TAG, "Error: " + error.getMessage());
				
			}
			});

		return response;
	}

}
